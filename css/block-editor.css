.rwmb-block-editor-wrapper {
	margin: 12px 0;
	width: 100%;
	box-sizing: border-box;
}

.rwmb-block-editor-wrapper .rwmb-block-editor-root {
	position: relative;
	min-height: 320px;
	border: 1px solid #dcdcde;
	border-radius: 4px;
	background-color: #fff;
	overflow: hidden;
	width: 100%;
	box-sizing: border-box;
}

.rwmb-block-editor-root:empty::before {
	content: attr(data-loading-label);
	display: block;
	padding: 24px;
	color: #757575;
	text-align: center;
	font-style: italic;
}

.rwmb-block-editor-wrapper .components-popover {
	z-index: 1000000;
	max-width: calc(100vw - 32px);
}

.rwmb-block-editor-wrapper .components-modal__screen-overlay {
	z-index: 1000001;
}

/* Fix context menu and dropdown menus */
.rwmb-block-editor-wrapper .components-popover__content {
	overflow: visible;
	max-height: none;
}

.rwmb-block-editor-wrapper .components-menu-group {
	overflow: visible;
}

.rwmb-block-editor-wrapper .components-menu-item {
	white-space: nowrap;
	overflow: visible;
}

/* Fix image insertion popover */
.rwmb-block-editor-wrapper .block-editor-media-placeholder__url-input-container {
	position: relative;
	z-index: 1;
}

.rwmb-block-editor-wrapper .block-editor-media-placeholder__url-input-container .components-popover {
	z-index: 1000002;
}

/* Fix context menu positioning - let WordPress handle positioning, only fix overflow */
.rwmb-block-editor-wrapper .components-popover.is-positioned {
	/* Don't override position - let WordPress calculate it */
}

/* Ensure popover content is properly sized and doesn't overflow */
.rwmb-block-editor-wrapper .components-popover__content {
	min-width: 200px;
	max-width: 400px;
	overflow-y: auto;
	overflow-x: hidden;
}

/* Fix URL input container to allow proper popover positioning */
.rwmb-block-editor-wrapper .block-editor-url-input__suggestions {
	position: relative;
}

/* Don't override URL input popover positioning - let WordPress handle it */
.rwmb-block-editor-wrapper .block-editor-url-input .components-popover,
.rwmb-block-editor-wrapper .block-editor-media-placeholder__url-input-container .components-popover {
	/* Let WordPress position it correctly */
}

/* Fix image placeholder and URL input */
.rwmb-block-editor-wrapper .block-editor-media-placeholder {
	position: relative;
	overflow: visible;
}

.rwmb-block-editor-wrapper .block-editor-media-placeholder__url-input-form {
	position: relative;
	z-index: 1;
}

.rwmb-block-editor-wrapper .block-editor-url-input {
	position: relative;
	z-index: 1;
}

/* Fix dropdown menu items */
.rwmb-block-editor-wrapper .components-dropdown-menu__menu {
	overflow: visible;
	max-height: 80vh;
	overflow-y: auto;
}

.rwmb-block-editor-wrapper .components-dropdown-menu__menu-item {
	white-space: nowrap;
	overflow: visible;
	text-overflow: ellipsis;
}

/* Fix context menu (right-click menu) */
.rwmb-block-editor-wrapper .components-menu-group__menu {
	overflow: visible;
}

.rwmb-block-editor-wrapper .components-menu-group__menu-item {
	position: relative;
	overflow: visible;
}

/* Ensure popovers are above everything */
.rwmb-block-editor-wrapper .components-popover.is-positioned {
	z-index: 1000000 !important;
}

.rwmb-block-editor-wrapper .components-popover.is-positioned .components-popover__content {
	z-index: 1000001 !important;
}

/* Ensure popover stays within viewport bounds without overriding position */
.rwmb-block-editor-wrapper .components-popover.is-positioned {
	/* Ensure popover doesn't go off-screen, but let WordPress calculate position */
	max-width: calc(100vw - 16px);
	max-height: calc(100vh - 16px);
}

/* Fix for URL input popover - ensure it appears near the input */
.rwmb-block-editor-wrapper .block-editor-url-input {
	position: relative;
}

.rwmb-block-editor-wrapper .block-editor-url-input__suggestions-wrapper {
	position: relative;
}

/* Responsive styles for mobile devices */
@media (max-width: 782px) {
	.rwmb-block-editor-wrapper {
		margin: 8px 0;
	}

	.rwmb-block-editor-wrapper .rwmb-block-editor-root {
		min-height: 240px;
		border-radius: 2px;
	}

	.rwmb-block-editor-root:empty::before {
		padding: 16px;
		font-size: 14px;
	}

	/* Fix toolbar overflow on mobile */
	.rwmb-block-editor-wrapper .editor-document-tools {
		flex-wrap: wrap;
		padding: 8px;
	}

	.rwmb-block-editor-wrapper .editor-document-tools__left,
	.rwmb-block-editor-wrapper .editor-document-tools__right {
		flex: 1 1 auto;
		min-width: 0;
	}

	/* Fix popover width on mobile - but don't override positioning */
	.rwmb-block-editor-wrapper .components-popover {
		max-width: calc(100vw - 16px);
		/* Don't force left/right - let WordPress position it */
		width: auto !important;
	}

	.rwmb-block-editor-wrapper .components-popover__content {
		max-width: 100%;
		width: 100%;
		box-sizing: border-box;
		overflow-y: auto;
		overflow-x: hidden;
	}

	/* Fix context menu on mobile */
	.rwmb-block-editor-wrapper .components-menu-item {
		padding: 8px 12px;
		font-size: 14px;
	}

	.rwmb-block-editor-wrapper .components-menu-group__label {
		padding: 8px 12px;
		font-size: 12px;
	}

	/* Fix modal on mobile */
	.rwmb-block-editor-wrapper .components-modal__screen-overlay {
		padding: 0;
	}

	.rwmb-block-editor-wrapper .components-modal__frame {
		width: 100%;
		height: 100%;
		max-width: 100%;
		max-height: 100%;
		border-radius: 0;
		margin: 0;
	}

	/* Fix block inserter menu on mobile */
	.rwmb-block-editor-wrapper .block-editor-inserter__menu {
		min-width: auto;
		max-width: calc(100vw - 16px);
		max-height: 70vh;
	}

	/* Fix block toolbar on mobile */
	.rwmb-block-editor-wrapper .block-editor-block-toolbar {
		flex-wrap: wrap;
	}

	.rwmb-block-editor-wrapper .block-editor-block-toolbar .components-toolbar-group {
		flex-wrap: wrap;
	}

	/* Fix writing flow padding on mobile */
	.rwmb-block-editor-wrapper .block-editor-writing-flow {
		padding: 8px 0;
	}

	/* Fix block list layout on mobile */
	.rwmb-block-editor-wrapper .block-editor-block-list__layout {
		padding-left: 0;
		padding-right: 0;
	}

	/* Fix block padding on mobile */
	.rwmb-block-editor-wrapper .wp-block {
		padding-left: 8px;
		padding-right: 8px;
	}
}

/* Responsive styles for small tablets */
@media (min-width: 783px) and (max-width: 960px) {
	.rwmb-block-editor-wrapper .rwmb-block-editor-root {
		min-height: 280px;
	}

	.rwmb-block-editor-wrapper .components-popover {
		max-width: calc(100vw - 48px);
	}
}

/* Fix for very small screens (phones in portrait) */
@media (max-width: 480px) {
	.rwmb-block-editor-wrapper {
		margin: 4px 0;
	}

	.rwmb-block-editor-wrapper .rwmb-block-editor-root {
		min-height: 200px;
		border: 1px solid #dcdcde;
	}

	.rwmb-block-editor-root:empty::before {
		padding: 12px;
		font-size: 13px;
	}

	/* Compact toolbar on very small screens */
	.rwmb-block-editor-wrapper .editor-document-tools {
		padding: 4px;
	}

	.rwmb-block-editor-wrapper .editor-document-tools button {
		padding: 4px 8px;
		font-size: 12px;
	}

	/* Smaller popover on very small screens - but don't override positioning */
	.rwmb-block-editor-wrapper .components-popover {
		max-width: calc(100vw - 8px);
		/* Don't force left/right - let WordPress position it */
	}

	/* Compact block inserter */
	.rwmb-block-editor-wrapper .block-editor-inserter__menu {
		max-height: 60vh;
		padding: 8px;
	}
}

